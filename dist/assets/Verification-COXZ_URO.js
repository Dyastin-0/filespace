import{b as y,u as j,a as v,r as t,c as b,j as e,B as k,e as E}from"./index-BKNLTqy2.js";import{I as L}from"./Input-GOd7nCC5.js";import{H as S}from"./Helmet-fCbaTteU.js";const I=()=>{var u;const{user:n}=y(),r=j(),d=v(),i=t.useRef(null),[a,o]=t.useState(!1),[l,c]=t.useState(""),{toastError:f,toastInfo:m}=b(),x=(u=d.state)==null?void 0:u.from;t.useEffect(()=>{n&&r("/home")},[n]),t.useEffect(()=>{i.current.focus()},[]);const p=async s=>{s.preventDefault(),o(!0);try{await E.post("auth/send-verification",{email:l}),m("Verification link sent!"),c(""),r("/sign-in")}catch(g){const h=g.response.data||"Failed to send verification link.";f(`${h}`)}finally{o(!1)}};return e.jsxs("div",{className:`flex flex-col p-4 justify-center items-center h-full w-full
      text-primary-foreground bg-primary rounded-md`,children:[e.jsx(S,{children:e.jsx("title",{children:"Send Verification Link"})}),e.jsxs("form",{className:`flex flex-col w-[250px] max-w-full p-4 gap-4 text-xs text-primary-foreground
				border border-secondary-accent rounded-md`,onSubmit:p,children:[e.jsx("h2",{className:"w-full text-center text-lg font-bold",children:"Send Verification Link"}),x==="/sign-up"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-primary-foreground text-xs",children:"You can send another verification link if you did not receive one."}),e.jsx("p",{className:"text-primary-foreground text-xs",children:"Links are only valid for 5 minutes."})]}),e.jsx(L,{required:!0,type:"email",placeholder:"Email",id:"email",ref:i,value:l,onChange:s=>c(s.target.value)}),e.jsx(k,{type:"submit",disabled:a,text:`${a?"Sending...":"Send Verification Link"}`})]})]})};export{I as default};
